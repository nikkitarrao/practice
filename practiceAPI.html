<!DOCTYPE html>
<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
  
   <script id = "view">
   // <div> <h3> Hi there {{firstName}} </h3> </div>
  //  Hi there {{firstName}}
  </script> 
  
</head>
<body>
<h1> practicing asynchronous network requests </h1>
  <div id = "display-data" > </div>

</body>
<div>
<div> <h3> Question {{id}} : {{prompt}} </h3> </div>
      <form>
      <div> 
      <div class="container">
      <div class="row">
      <div class="col-lg-3 col-lg-offset-2 gauche">
        <input type = "radio" id = "A" name = "choicesImage" class = "A">
            <label for="A"> A. <img src = {{choices[0]}}> </label>  
      </div>
      <div class="col-lg-3 col-lg-offset-2 gauche">
        <input type = "radio" id = "B" name = "choicesImage" class = "B">
            <label for="B"> B. <img src = {{choices[1]}}> </label> 
      </div> 
    </select> </div> </div>
     </div>
    <div> <input id = "next" type = "submit"> </div> 
    </form>
    <br>
  <div> <p> Correct Answer Counter: {{totalCorrectAnswers}} </p> </div>
  
</div>
  
 <script>
  

//Asynchronous Network Request
async function backEndRestAPI(quizId,qid){
  let api_endpoint = `https://my-json-server.typicode.com/nikkitarrao/SinglePageApplication/${quizId}/${qid}`
  const response = await fetch('https://my-json-server.typicode.com/nikkitarrao/SinglePageApplication/questions')
  const data = await response.json()
  const html_element = renderView(data, view)
  document.querySelector('#display-data').innerHTML = html_element;
    };

  //Rendering View and Update DOM
  const renderView = () => {
      var source = document.querySelector('#view').innerHTML;
      var template = Handlebars.compile(source);
      var model = {
        "firstName" : "Nikkita"
      }
      var html = template(model)
      return html
  };

    document.addEventListener('DOMContentLoaded', function() {
      renderView();
     //   view1 = renderView({},'#initialScreen');
     //   document.querySelector('#display-data').innerHTML = view1;
  
    });


</script>
